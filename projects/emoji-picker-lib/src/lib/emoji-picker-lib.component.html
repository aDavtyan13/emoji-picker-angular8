<div class="emoji-picker" outClick (outClickEvent)="closeEmojiPicker()">
  <button type="button" class="emoji-picker--icon--btn"
          (click)="toggleEmojiPicker()"
          [ngClass]="{'active': showEmojiPicker}">
    <ng-container *ngIf="btnIcon; else btnIconImg">
      <span class="{{btnIcon}} emoji-picker--icon"></span>
    </ng-container>
    <ng-template #btnIconImg>
      <img src="assets/images/emoji.svg" alt="" class="emoji-picker--icon--img">
    </ng-template>
  </button>
  <div *ngIf="showEmojiPicker"
       [ngClass]="{'emoji-picker--block--right': emojiPickerRight}"
       class="emoji-picker--block">
    <div class="emoji-picker--categories">
      <div class="emoji-picker--category"
           *ngFor="let category of data?.categories; let i = index;"
           (click)="chooseCategory(i)"
           [ngClass]="{'selected': category?.selected}"
           [ngStyle]="{'width': calcEmojiSize(data.categories.length)}">
        <div>{{category?.emoji}}</div>
      </div>
    </div>
    <div class="emoji-picker--search">
      <input type="text" placeholder="Search" [(ngModel)]="searchValue" (input)="searchElement()" autofocus>
      <ng-container *ngIf="searchIcon; else searchIconImg">
        <span class="{{searchIcon}} emoji-picker--icon"></span>
      </ng-container>
      <ng-template #searchIconImg>
        <img src="assets/images/search.svg" class="emoji-picker--icon--img" alt="">
      </ng-template>
    </div>
    <p *ngIf="!searchValue" class="emoji-picker--category-name">{{categoryName}}</p>
    <div class="emoji-picker--emojis"
         [ngClass]="{'emoji-picker--emojis--full-height': searchValue}">
      <ng-container *ngFor="let emoji of selectedEmojis">
        <div *ngIf="emoji.isSupported" class="emoji-picker--emoji"
             (click)="selectEmoji(emoji.emoji)"
             [ngStyle]="{'width': calcEmojiSize(emojisPerRow)}">
          <div title="{{emoji?.name}}">{{emoji?.emoji}}</div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
